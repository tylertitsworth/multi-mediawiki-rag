---
    name: Embed Tests
    on:
      push:
      # pull_request:
      #   types:
      #     - closed

    jobs:
      unit-test:
        runs-on: ubuntu-latest
        # if: github.event.pull_request.merged == true
        container:
          image: Dockerfile
        steps:
        - name: Download Source Files from HF
          run: |
            pip install huggingface-cli
            huggingface-cli login --token ${{ secrets.HF_TOKEN }}
            huggingface-cli download --repo-type space TotalSundae/dungeons-and-dragons --include *.xml
        - name: Create Embeddings
          run: python main.py
        - uses: actions/upload-artifact@v4
          with:
            name: Chroma VectorDB Embeddings
            path: data/
